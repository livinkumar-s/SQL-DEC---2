Database
-----------
>> It is an organized collection of data that can be stored , retrieved, updated and managed efficiently.

RDBMS---> Relational Database Management System, SQLdb
-------------------------------------------------
>> It stores data in form of tables(rows and columns).
>> Needs SQL
>> Ex: MySQL, PostgreSQL, Oracle.

DBMS NoSQLDB
------
>>It stores data in form of objects or documents.
>>Ex: MongoDB, MariaDB....

MySQL 
-------
>>It is open-source RDBMS.
>>Uses SQL 

SQL --> Structured Query Language
----
SQL is a language to communicate with databases.

DDL --> Data Definition Language -->CREATE, ALTER, DROP
DML --> Data Manipulation Language --->UPDATE, INSERT, DELETE
DQL --> Data Query Language --->SELECT 
DCL --> Data Control Language.

Database --> Tables ---> Data 
(Schema)

Syntax 
----------
>> It is case-insensitive. (a=A)
SELECT * FROM tbname;
select * from tbname;
sElEcT * FroM tbname;
>> a query should end with ';'

Datatype
---------
Numerical datatypes
---------------------
INT ---> whole numbers 
BIGINT --> large Integers 
FLOAT --> Decimal 
DOUBLE ---> Large Decimal

String 
-------
CHAR(n) --> fixed length characters. Ex: CHAR(5) --> "hello", "priyanka", "I love", "love"
VARCHAR(n) --> Variable length characters string. Ex: VARCHAR(5) --> "love","hi","world"
TEXT ---> paragraph

Boolean
--------
boolean --> 1/0 

Date/Time 
------------
DATE --> "yyyy-mm-dd"
TIME --> "HH:MM:SS"
DATETIME --> Both


Operators 
------------
= equal            
<>,!= not equal
< less                         
> great 
<= less or equal 
>= great or equal

Logical Operators 
------------------
AND 
OR 
NOT

BETWEEN 
----------
a value ranges between 2 numbers.(inclusive range)
Ex: ....WHERE col BETWEEN num1 and Num2;

IN operator 
-----------
IN operator replaces multiple or.
Ex: ... where col (not) IN (val1, val2, val3...);

LIKE operator (Pattern matching)
--------------------------------
Patterns(wildcards) can be made using two characters. 

% ---> will match 0 to inf char.
_ ---> will match only one char.

Ex: ... where col LIKE pattern;

Starts with k ---> "k%"  --> "karthi","Kalyan", "kk", "k"
Ends with n --> "%n"  --> "Neelakandan", "n"

"___" --> "ram","bheen"

SORTING
--------
arranging rows.
ORDER BY --> ...... ORDER BY col asc,desc;

LIMIT, OFFSET
------
to limit the result
Ex: .... LIMIT num OFFSET num;

Constraint
------------
>> Set of rules that manages data integrity in a column.

PRIMARY KEY --> It won't allow duplicates, It will not allow empty field.(unique, not null). Identifies each record uniquely. only one primary key column for a table.

UNIQUE ---> no duplicates

NOT NULL ---> no empty cell

DEFAULT ---> To automatically insert a value if none is provided

AUTO_INCREMENT -->It increments numeric value row by row.(PRIMARY KEY)

CHECK --> ued to validate data with condition

FOREIGN KEY --> is a col in one table that refers to the primary key of another table.

Functions (takes input ---> operation --> gives output)
----------
>> Predefined Operations.

Numerical Function
--------------------
ROUND(dec) ---> rounds off a decimal number.
FLOOR(dec) ---> rounds off to the smaller number
CEIL(dec) --> rounds off to the next int.
MOD(a,b)  --> reminder
POWER(a,b)
ABS(num) ---> absolute number

String Functions 
-----------------
CONCAT(str1,str2.....) --> attaching all the strings 
LENGTH(str) --> number of char
UPPER(str)
LOWER(str)
REPLACE(str, old, new)---> replaces a substring
SUBSTRING(str,start,len)  --> extracts substring from a string. Ex: "Hi Guys" --> "Guys"

Date and Time 
--------------
CURTIME()
CURDATE()
NOW()
DATEDIFF(d1,d2) --> fifference between 2 dates


Queries 
------------
To Create Database(Schema) ---> CREATE DATABASE dbname;
To select db --> USE dbname;
To Create Table --> CREATE TBALE tbname(
    col1 datatype constraints,
    col2 datatype constraints,
    col2 datatype constraints
);

To insert new data to a table --> INSERT INTO tbname (col details) VALUES (),()...;
To retrive data from a table --> SELECT (col details --> *) FROM tbname;
To update data in a table ---> UPDATE tbname SET col=val, col=val...;
To delete a record from table --> DELETE FROM Tbname;

sql_safe_updates ---> you can update only one record in one go. the filteration must depend on PK.
set sql_safe_updates=0;  -> to turn off.

CRUD 
--------
Create ---> INSERT
Read ---> SELECT
Update ---> UPDATE
Delete ---> DELETE

WHERE
------
Filter the rows.
Ex: select, update, delete.... WHERE cond; 

Altering Table 
-------------------
>> it is used modify the structure of an existing table.
Query ---> ALTER

To Add a column ---> ALTER TABLE tbname ADD colName dtType constraints; 
ALTER TABLE tbname ADD colName dtType constraints, ADD colName dtType constraints...;
To add column with position ---> ALTER TABLE tbname ADD col detail (FIRST, AFTER col);
To modify a column ---> ALTER TAABLE tbname MODIFY colName details;
To Rename a column(rename and modifications) ---> ALTER TABLE tbname CHANGE colname newName datatype;
To Drop a Column ---> ALTER TABLE tbname DROP COLUMN colname;
To add constraint ---> ALTER TABLE tbname ADD constraint (col name);

To rename table --> ALTER TABLE tbname RENAME TO newName;

To Drop table ---> DROP TABLE tbname;
To Drop database ---> DROP DATABASE dbname;


Joins
-------
>> It is used to combine rows from 2 or more tables based on related column.
Ex: SELECT colDet FROM tb1 (join details) tb2 ON (related col);

INNER JOIN 
------------
>> All matching records will be shown.
Ex: select * from cricketer inner join jersey 
on cricketer.id=jersey.playerId;

LEFT join
-----------
>> ALL the records from left table.
Ex: select * from cricketer left join jersey 
on cricketer.id=jersey.playerId;

RIGHT join
-----------
>> ALL the records from left table.
Ex: select * from cricketer right join jersey 
on cricketer.id=jersey.playerId;

FULL OUTER JOIN 
---------------
>> Returns all the records from both table.
Ex: left join  union  right join


CROSS join 
------------
>> It matches every record from left table to every record from right table.
Ex: SELECT * FROM tb1 CROSS JOIN tb2;

no of rows tb1 * no of rows in tb2

Aggregate Functions 
--------------------
Aggregate functions perform calculations on multiple rows and return single value.

COUNT() ---> Number of rows.
SUM() --> finds the sum of a numerical column.
MAX() --> largest value in a Numerical col.
MIN() --> smallest val;ue in a numerical col.
AVG() --> finds average of a numberical column.

Grouping 
----------
>> Groups rows with same value.
Ex: select aggFun...... GROUP BY col;

WHERE ---> Rows 
HAVING ---> Groups

Subqueries 
------------
>> It is a query written inside another query.
Ex: main query.... (inner query);

Types 
--------
Single Row Sub query 
-----------------------
>> Returns only one row and one column.

Multi Row Subqueries
---------------------
>> It returns multiple rows.

ALL ---> every single value must meet the condition
ANY ---> any one value must meet the condition

Co related Subquery
-----------------------
>> inner query depends on main query.
Ex: SELECT * FROM students s WHERE mark > (
    SELECT AVG(mark) FROM students where dept=s.dept
);

VIEW 
------
>> A view is a virtual table based on the result of a SELECT Query.
CREATE VIEW viewName AS select.....;